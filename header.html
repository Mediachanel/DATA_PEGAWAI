<style>
  .topbar {
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 16px; background:#ffffff; border-bottom:1px solid #e2e8f0;
    position: sticky; top:0; z-index:60; width:100%; box-shadow: 0 6px 24px rgba(15,23,42,0.06);
  }
  .toolbar { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
  .pill { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; font-weight:700; font-size:12px; }
  .pill.role { background:#ede9fe; color:#6d28d9; }
  .pill.ukpd { background:#ecfdf3; color:#15803d; }
  .brand-title { font-size:18px; font-weight:800; color:#0f172a; }
  .user { display:flex; align-items:center; gap:10px; }
  .user img { width:40px; height:40px; border-radius:12px; object-fit:cover; }
  .user-name { font-weight:800; }
  .user-role { font-size:12px; color:#6b7280; }
  .danger-btn { background:#ef4444; color:#fff; border:none; border-radius:10px; padding:9px 14px; cursor:pointer; font-weight:700; box-shadow: 0 8px 18px rgba(239,68,68,0.24); }
</style>

<header class="topbar">
  <div class="toolbar">
    <div class="pill role" id="rolePill">-</div>
    <div class="brand-title">Dashboard Dinas Kesehatan</div>
    <div class="pill ukpd" id="ukpdPill">-</div>
  </div>
  <div class="user">
    <img src="foto/Dinkes.png" alt="user" data-logo-header />
    <div>
      <div class="user-name" id="userName">User</div>
      <div class="user-role" id="userRole">-</div>
    </div>
    <button class="danger-btn" id="logoutBtn">Logout</button>
  </div>
</header>

<script>
  (()=> {
    const authUser = (()=>{ try { return JSON.parse(localStorage.getItem('authUser')||'null'); } catch { return null; } })();
    if (!authUser) return;
    const role = authUser.role || 'USER';
    const nama = authUser.namaUkpd || authUser.username || 'User';
    const rolePill = document.getElementById('rolePill');
    const ukpdPill = document.getElementById('ukpdPill');
    const userName = document.getElementById('userName');
    const userRole = document.getElementById('userRole');
    if (rolePill) rolePill.textContent = role.toUpperCase();
    if (ukpdPill) ukpdPill.textContent = nama;
    if (userName) userName.textContent = nama;
    if (userRole) userRole.textContent = role;
  })();
</script>
